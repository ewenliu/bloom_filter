# 布隆过滤器的python实现和redis实例

#### 布隆过滤器是什么

> 布隆过滤器是一种比较巧妙的概率型数据结构（probabilistic data structure），它实际上是一个很长的二进制向量和一系列随机映射函数，特点是高效地插入和查询，可以用来告诉你 “某样东西一定不存在或者可能存在”。


#### 缓存穿透
查询一个一定不存在的值，这个值不仅不在redis，也不在数据库，导致每次查询请求都走数据库，并且还查不到(比如请求用户ID为-1的用户)，这就是缓存穿透

#### 布隆过滤器的使用场景
主要作用是用来设定一个规则用来判断Input存在与否

典型应用场景如下：

- 地址过滤，URL过滤等
- 黑名单过滤
- redis**缓存穿透**

#### 布隆过滤器的原理

原理这里就不细说了，感兴趣的可以百度，有很多说的很好的博文详细介绍了原理，这里以偏概全的提一下大概。

**过滤规则新增**

> 前提：布隆过滤器的二进制向量初始值全部置为0

当输入等于"google.com"且布隆过滤器hash函数是3个的时候，假设布隆过滤器生成的hash值是1，4，7，那么将过滤器的二进制向量的1，4，7位置置为1，新增完毕。

**过滤判断**

当输入等于"baidu.com"时，假设布隆过滤器生成的hash值是1，4，8，可以发现，二进制向量的第8位不为1（1，4，7为1），那么判定"baidu.com"不存在。

**增强准确性**

- 增加hash个数，增大hash随机性，减少hash碰撞的概率
- 增加二进制向量的长度，使hash值分布更均匀化

#### redis实例

需要安装布隆过滤器插件即可使用，此处忽略
